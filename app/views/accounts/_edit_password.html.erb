<div id="edit_password_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="editPasswordModalLabel" aria-hidden="true" data-keyboard='false'>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <% if current_user.is_password_set %>
      <h3 id="editPasswordModalLabel">Edit Your Password</h3>
    <% else %>
      <h3 id="editPasswordModalLabel">Set a Password</h3>
    <% end %>
  </div>

  <%= simple_form_for current_user, :url => user_registration_path, :html => {:id => 'edit_password_form', :class => 'modal-form'}, :validate => true, :method => :put do |f| %>
    <div class="modal-body">
      <div class='form-horizontal'>
        <% if current_user.is_password_set %>      
          <%= f.input :current_password, :label => 'Current Password' %>
        <% end %>
        <%= f.input :password, :label => 'New Password' %>
        <%= f.input :password_confirmation, :label => 'Confirm New Password' %>          
      </div>
    </div>   
    <div class="modal-footer">
      <a class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
      <%= f.submit 'Update', :class => 'btn btn-primary' %>
    </div>
  <% end %>  

</div>